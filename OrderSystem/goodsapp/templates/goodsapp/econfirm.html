{% extends 'base.html' %}
{% block htitle %}
  商品情報編集確認
{% endblock %}

{% block mtitle %}
  商品情報編集確認
{% endblock %}

{% block contents %}
  <div class="container my-5">
    <div class="row justify-content-center">
      <div class="col-lg-10">
        <h4 class="text-center mb-4">以下の内容で更新します</h4>
        <div class="row">
          <!-- 変更前 -->
          <div class="col-md-6">
            <h5 class="text-center text-secondary mb-3">変更前</h5>
            <table class="table table-bordered">
              <tr>
                <th class="w-25 table-light">商品コード</th>
                <td>{{ original_data.goods_code }}</td>
              </tr>
              <tr>
                <th class="table-light">商品名</th>
                <td>{{ original_data.goods_name }}</td>
              </tr>
              <tr>
                <th class="table-light">分類</th>
                <td>{{ original_data.classify }}</td>
              </tr>
              <tr>
                <th class="table-light">売上単価</th>
                <td>{{ original_data.sl_price }}円</td>
              </tr>
              <tr>
                <th class="table-light">仕入単価</th>
                <td>{{ original_data.cs_price }}円</td>
              </tr>
              <tr>
                <th class="table-light">在庫数</th>
                <td>{{ original_data.stocks }}</td>
              </tr>
              <tr>
                <th class="table-light">仕入先コード</th>
                <td>{{ original_data.buy_code }}</td>
              </tr>
            </table>
          </div>
          <!-- 変更後 -->
          <div class="col-md-6">
            <h5 class="text-center text-primary mb-3">変更後</h5>
            <table class="table table-bordered border-primary">
              <tr>
                <th class="w-25 table-light">商品コード</th>
                <td>{{ edited_data.goods_code }}</td> {# 主キーなので変更なし #}
              </tr>
              <tr>
                <th class="table-light">商品名</th>
                <td {% if original_data.goods_name != edited_data.goods_name %}class="text-danger fw-bold"{% endif %}>{{ edited_data.goods_name }}</td>
              </tr>
              <tr>
                <th class="table-light">分類</th>
                <td {% if original_data.classify != edited_data.classify %}class="text-danger fw-bold"{% endif %}>{{ edited_data.classify }}</td>
              </tr>
              <tr>
                <th class="table-light">売上単価</th>
                <td {% if original_data.sl_price != edited_data.sl_price %}class="text-danger fw-bold"{% endif %}>{{ edited_data.sl_price }}円</td>
              </tr>
              <tr>
                <th class="table-light">仕入単価</th>
                <td {% if original_data.cs_price != edited_data.cs_price %}class="text-danger fw-bold"{% endif %}>{{ edited_data.cs_price }}円</td>
              </tr>
              <tr>
                <th class="table-light">在庫数</th>
                <td {% if original_data.stocks != edited_data.stocks %}class="text-danger fw-bold"{% endif %}>{{ edited_data.stocks }}</td>
              </tr>
              <tr>
                <th class="table-light">仕入先コード</th>
                <td {% if original_data.buy_code != edited_data.buy_code %}class="text-danger fw-bold"{% endif %}>{{ edited_data.buy_code }}</td>
              </tr>
            </table>
          </div>
        </div>
        <form method="post" class="text-center mt-4">
          {% csrf_token %}
          <div class="d-flex justify-content-center">
            <button type="submit" class="btn btn-primary">確定</button>
            <a class="btn btn-secondary ms-3" href="{% url 'goods_ed' edited_data.goods_code %}">編集画面に戻る</a>
          </div>
        </form>
      </div>
    </div>
  </div>
{% endblock %}
